<?php

$s =
"Lorem ipsum dolor sit amet, consectetur adipiscing elit.
Etiam sed arcu scelerisque eros pretium consectetur.
Praesent egestas mollis mauris, sed sagittis sapien commodo id.
Vestibulum in dui quis dolor interdum pharetra id eget nulla.
Maecenas sollicitudin congue erat, a sagittis orci pretium nec.
Aliquam ullamcorper magna sit amet tortor faucibus eget aliquet ipsum malesuada.
Suspendisse quis nibh at nisi rutrum ullamcorper.
Suspendisse et magna elit, nec consectetur orci.
Phasellus luctus eros et dolor congue non pharetra lectus lobortis.
Vestibulum sed tortor ac purus adipiscing egestas.
Nunc commodo est at ipsum porta mollis.
Nullam sagittis justo eu urna faucibus hendrerit.
Aenean lacinia enim id ipsum congue ullamcorper.
Nulla a nunc eget nibh fringilla ultrices.
Aenean rutrum ante sed justo accumsan non ullamcorper purus posuere.
Morbi interdum ornare diam, sed elementum ipsum bibendum a.
Etiam nec augue in tortor faucibus cursus ac a ligula.
In vitae lorem in mi porta bibendum nec vitae risus.
Nunc mollis turpis eu ipsum porttitor et euismod tellus dictum.
Duis faucibus purus sed ipsum sollicitudin dapibus.
Praesent sed neque eu magna lobortis gravida sed a libero.
Donec eget diam eros, euismod mattis ante.
Nunc ultricies accumsan orci, in venenatis massa egestas at.
Pellentesque vestibulum est sit amet odio porttitor at molestie justo dapibus.
Integer hendrerit risus vel velit mattis sed hendrerit urna sollicitudin.
Vestibulum et dolor ut lorem pretium fringilla vitae sed nibh.
Ut posuere mattis quam, ac venenatis mi vulputate in.
Duis at urna risus, ut tristique lectus.
Cras et felis ac sem ultrices varius.
Donec pretium leo et ligula aliquam sed vestibulum ligula fermentum.
Donec tincidunt lectus sapien, quis gravida ipsum.
Donec non libero at purus vehicula cursus.
Cras laoreet nisl sed erat luctus tristique eleifend urna imperdiet.
Donec rutrum metus sed purus dignissim cursus.
Nulla imperdiet lectus venenatis turpis euismod nec ultrices sem mattis.
In ac dolor nisl, sed ultrices sem.
Sed vestibulum massa quis lacus scelerisque non mattis erat bibendum.
Pellentesque rhoncus metus at urna fermentum faucibus.
Vivamus sed lectus nisl, lobortis malesuada elit.
Sed tincidunt sagittis nisl, ac viverra tellus porta vitae.
Nulla vel metus eu risus semper rhoncus.
Cras sit amet arcu ante, non bibendum felis.
Suspendisse nec metus neque, at sodales diam.
Aenean eget nulla eget enim pulvinar dignissim.
Sed interdum facilisis lectus, ac imperdiet tellus consequat id.
Curabitur sit amet leo quis est iaculis tincidunt.
Etiam pretium diam at tellus aliquam lacinia.
Vestibulum eu turpis quis metus aliquam rutrum a in purus.
Phasellus luctus rhoncus est, a tincidunt est tempor eget.
Vivamus eleifend est nec metus commodo vestibulum.
Aliquam in mi vel justo venenatis suscipit eu sed leo.
Fusce sed dolor tellus, at luctus mi.
Vivamus blandit mauris id leo mattis sagittis.
Mauris in justo a leo sodales vehicula.
Curabitur pharetra scelerisque erat, at facilisis purus auctor in.
Proin porttitor ornare purus, a molestie est fringilla ut.
Nunc congue bibendum leo, a imperdiet lectus molestie ac.
Donec ac mi ut elit vehicula vehicula vulputate ac risus.
Fusce sit amet risus sit amet tellus euismod laoreet vitae quis arcu.
Proin tincidunt tortor ut metus fermentum vitae viverra turpis pretium.
Ut cursus est non tellus volutpat a egestas ipsum vestibulum.
Nam dapibus cursus dolor, non euismod ligula convallis non.
Suspendisse sed mi felis, vel malesuada diam.
Nunc convallis nunc massa, eget iaculis sapien.
Nulla id nunc nisi, in tempus turpis.
Fusce pulvinar neque vestibulum risus pulvinar mattis gravida ultrices dui.
Sed malesuada sem eget elit tincidunt blandit.
Vivamus luctus sagittis urna, id ultrices tortor dapibus in.
Aliquam in lorem vel eros suscipit aliquam.
Vivamus porttitor ipsum eget turpis blandit rutrum.
Cras ac nisi vel nibh hendrerit congue.
Fusce consectetur nibh eget sapien euismod auctor vulputate sem molestie.
Aenean gravida justo nec nisl imperdiet eu gravida ante ornare.
Nulla blandit magna eu orci iaculis a vehicula lacus vehicula.
Duis vitae sapien quis justo ullamcorper auctor.
Aenean ac odio vel erat tincidunt scelerisque.
Proin et dolor eros, ac pharetra mi.
Sed vitae leo non ligula sagittis venenatis.
Sed eu lectus eros, in vestibulum mi.
Etiam eu nulla risus, quis viverra odio.
Pellentesque cursus est nec velit euismod feugiat.
In et turpis ut massa congue luctus.
Vivamus at orci sed massa tempor cursus.
Nam ultricies metus et metus ullamcorper fermentum lacinia enim condimentum.
Fusce quis est eget diam tempus dapibus.
Etiam sit amet dolor augue, id dignissim velit.
Vestibulum vel nulla et orci pharetra accumsan.
Ut convallis eleifend lorem, vel feugiat quam porta tincidunt.
Sed ut nisi at ligula facilisis scelerisque vitae vitae diam.
Donec sed risus et diam volutpat lacinia.
Integer vehicula tellus in nisi iaculis tincidunt.
Phasellus viverra pellentesque enim, sed consectetur metus eleifend sed.
Vivamus et felis eu justo mattis blandit eget vel lacus.
Integer semper purus sit amet turpis ultrices hendrerit viverra ligula sollicitudin.
Etiam nec est augue, eget scelerisque sapien.
Maecenas quis nunc nibh, vitae tristique lorem.
Nunc tincidunt ipsum at est placerat suscipit.
Donec imperdiet blandit magna, sit amet lacinia sapien tincidunt et.
Duis sed lacus in neque interdum molestie non quis nulla.
Duis nec felis a lacus sodales elementum.
Cras ac magna nunc, non congue mi.
Mauris et mi vel felis laoreet dictum vitae eu mauris.
Proin sollicitudin feugiat urna, vel tincidunt erat sagittis eget.
Sed non purus et lectus rhoncus tincidunt sed non nisl";

$s = str_replace("\r\n",' ', $s);
$s = str_replace(".",' .', $s);
$s = str_replace(",",' ,', $s);
$a = explode(' ',$s);

$a = array_map(function($x){return strtolower($x);},$a);

$b = array_count_values($a);
arsort($b);
$c = array_keys($b);


foreach ($b as $w=>$f){
	$x = array_search($w,$c)-2;

	if ($x==-2)
		$s = ' ';
	elseif ($x==-1)
		$s = '#';
	elseif ($x < 90)
		$s = chr(37 + $x);
	else
		$s = '!' . chr(37 + $x-90);

	$b[$w] = $s;
}

$z = '';
foreach ($a as $w)
	$z .= $b[$w];

$z = str_replace( '\\','\\\\', $z );
$z = str_replace( '\'','\\\'', $z );
echo "'".$z."'\n\n";






array_shift($c);
array_shift($c);

$z = implode('`',$c);

for ($i = ord('`') ; $i <= ord('z') ; $i++)
	$z = str_replace( chr($i) , chr(37 + $i - ord('`')) , $z );

$low = 37;
$top = 37 + ord('z') - ord('`');



$cc = '';
for(;;){
	$d = array();
	for ($j = 0; $j < strlen($z)-1; $j++){
		$di = substr($z,$j,2);
		if (!array_key_exists($di,$d)) $d[$di]=0;
		$d[$di]++;
	}
	arsort($d);
	foreach ($d as $di=>$f){
		if ($f == 1) break;
		$top++;
		$z = str_replace($di,chr($top),$z);
		$cc = $di.$cc;
		break;
	}
	if ($top == 126) break;
	if ($f == 1) break;
}
$cc = str_replace( '\\','\\\\', $cc );
$cc = str_replace( '\'','\\\'', $cc );
echo "'".$cc."'\n\n";


$z = str_replace( '\\','\\\\', $z );
$z = str_replace( '\'','\\\'', $z );
echo "'".$z."'\n\n";
die;




for ($ch1 = 37; $ch1 <= 37+ord('z')-ord('`') ; $ch1++){
	for ($ch2 = 37; $ch2 <= 37+ord('z')-ord('`') ; $ch2++){
		$di = chr($ch1) . chr($ch2);
		for ($j = 0; $j < strlen($z)-1; $j++){
			if (substr($z,$j,2) == $di){
				if (!array_key_exists($di,$d))
					$d[$di] = 0;
				$d[$di]++;
			}
		}
	}
}
arsort($d);


$i = 37+ord('z')-ord('`');
foreach ($d as $di=>$f){
	$i++;
	if ($i > 126) break;

	$z = str_replace($di,chr($i),$z);
}

	echo $z;


